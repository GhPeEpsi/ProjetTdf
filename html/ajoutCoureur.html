<!DOCTYPE html>
<html lang="fr">
	<head>
    	<meta charset="utf-8">
    	<meta name ="viewport" content="width=device-width, initial-scale=1">
    	<title>Ajout coureur</title>
    	<script> 
    		function chargerDate(elt1){
    			var dateN = elt1.value;
    			var xhr = new XMLHttpRequest();
				xhr.open('GET', '../php/ajoutCoureur.php?dateN='+dateN, true);

				var Lire = function()
				{
					if (xhr.readyState === 4 && xhr.status === 200)
					{
						var elt = document.getElementById('depuisQ');
						document.getElementById('depuisQ').innerHTML = xhr.responseText;
						document.getElementById('depuisQ').value = xhr.responseText;
					}
				}

				xhr.addEventListener("readystatechange", Lire, false);
				xhr.send(null);
			}
    	</script>
    </head>

    	<style type="text/css">.error{color: red} </style>
    	<h3> Veuillez remplir tous les champs pour l'ajout d'un coureur : </h3>

    	<p><span class="error" >* champs requis </span></p>
		<form name="formVerifCoureur" action="" method="post">
			
			<!-- Message Hidden qui permet desavoir si on peut aller afficher les informations ou si aucun coureur n'a été rentré-->
			<input name="droitPassage" type="hidden" value="<?php droitPassage();?>">
			
    		<div>
        		<label> Nom : </label>
				<input type = text name = "Nom" value ="" placeholder="Saisir">
				<span class="error">* </span>
				<span class="error" id="nomErreur"></span>
    		</div>
    			<br>
    			<br>

    		<div>
        		<label> Prénom :</label>
        		<input type="text" name = "prenom" value ="" placeholder="Saisir">
        		<span class="error">* </span>
        		<span class="error" id="prenomErreur"></span>
    		</div>
			 	<br>
			 	<br>

			<div>
			 	<label>Date de naissance</label>    			
        		<input type="date" name ="dateN" value="" id = "dateN" onblur="chargerDate(document.getElementById('dateN'))" min="1900-01-01" max= "<?php echo date('Y-m-d'); ?>">
    		</div>
				<br>
				<br>

			<select name="nationalite"  >
				<option>Nationalité</option>
				<?php remplirOption($tab,$nbLignes); ?>
			</select>
			<span class="error">* </span>
			<?php ajoutSelection();?>
				<br>
				<br>

			<label>Depuis quand ?</label>

    			<div>
        			<input type="text" name ="depuisQ" value="" id = "depuisQ">
        			<?php verifDepuisQ(recupAnnee());?>
        			<?php verifDepuisQ(recupAnnee());?>
    			</div>
    			<br>
				<br>
				<input type="submit" name="verifier" value="Vérifier" > 
				<input type="reset"> 
				<input type="submit" name="regarder" value="Voir Coureur">
			<br>
			<span class="error" id ="MessErreur"></span>
			
			
		</form>
  </body>
</html>